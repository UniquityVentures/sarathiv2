<odoo>
  <data>
    <!-- Syllabus Form View -->
    <record model="ir.ui.view" id="syllabus_form_view">
      <field name="name">syllabus.form</field>
      <field name="model">syllabus.syllabus</field>
      <field name="arch" type="xml">
        <form string="Syllabus">
          <sheet>
            <group>
              <field name="name"/>
            </group>
            <notebook>
              <page string="Overview">
                <field name="overview" widget="html"/>
              </page>
              <page string="Chapters">
                <field name="chapter_ids">
                    <tree editable="bottom">
                        <field name="sequence" widget="handle"/>
                        <field name="name"/>
                        <field name="book"/>
                        <field name="page_range"/>
                        <field name="order" invisible="1"/>
                    </tree>
                    <form>
                        <group>
                            <field name="name"/>
                            <field name="book"/>
                            <field name="page_range"/>
                            <field name="order"/>
                            <field name="topic_ids">
                                <tree editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="name"/>
                                    <field name="code"/>
                                    <field name="description"/>
                                </tree>
                                <form>
                                    <group>
                                        <field name="name"/>
                                        <field name="code"/>
                                        <field name="description"/>
                                    </group>
                                </form>
                            </field>
                        </group>
                    </form>
                </field>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Syllabus Tree/List View -->
    <record model="ir.ui.view" id="syllabus_tree_view">
      <field name="name">syllabus.tree</field>
      <field name="model">syllabus.syllabus</field>
      <field name="arch" type="xml">
        <tree string="Syllabi">
          <field name="name"/>
          <field name="course_id"/>
        </tree>
      </field>
    </record>

    <!-- Chapter Form View -->
    <record model="ir.ui.view" id="chapter_form_view">
      <field name="name">chapter.form</field>
      <field name="model">syllabus.chapter</field>
      <field name="arch" type="xml">
        <form string="Chapter">
          <sheet>
            <group>
              <field name="syllabus_id" invisible="1"/>
              <field name="name"/>
              <field name="book"/>
              <field name="page_range"/>
              <field name="order"/>
            </group>
            <notebook>
              <page string="Topics">
                <field name="topic_ids">
                    <tree editable="bottom">
                        <field name="sequence" widget="handle"/>
                        <field name="name"/>
                        <field name="code"/>
                    </tree>
                    <form>
                        <group>
                            <field name="name"/>
                            <field name="code"/>
                            <field name="description"/>
                        </group>
                    </form>
                </field>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Chapter Tree/List View -->
    <record model="ir.ui.view" id="chapter_tree_view">
      <field name="name">chapter.tree</field>
      <field name="model">syllabus.chapter</field>
      <field name="arch" type="xml">
        <tree string="Chapters">
          <field name="syllabus_id"/>
          <field name="name"/>
          <field name="order"/>
          <field name="book"/>
        </tree>
      </field>
    </record>

    <!-- Actions for Syllabus -->
    <record model="ir.actions.act_window" id="syllabus_action_window">
      <field name="name">Syllabus</field>
      <field name="res_model">syllabus.syllabus</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Create your first Syllabus!
        </p>
      </field>
    </record>

    <!-- Actions for Chapters -->
    <record model="ir.actions.act_window" id="chapter_action_window">
      <field name="name">Chapters</field>
      <field name="res_model">syllabus.chapter</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Manage chapters for your syllabi.
        </p>
      </field>
    </record>

    <!-- Menu Items -->
    <menuitem name="Syllabus" id="syllabus_menu_root" web_icon="syllabus,static/description/icon.png"/>
    <menuitem name="All Syllabi" id="syllabus_menu_all" parent="syllabus_menu_root"
              action="syllabus_action_window" sequence="10"/>
    <menuitem name="Chapters" id="syllabus_menu_chapters" parent="syllabus_menu_root"
              action="chapter_action_window" sequence="20"/>

  </data>
</odoo>
